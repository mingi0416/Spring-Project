<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sp.dao.PollDAO">
<select id="select" resultType="PollDTO">
select * from tbl_poll where bno = #{bno} order by pno
</select>
<delete id="deletepoll">
delete from tbl_poll where bno = #{bno}
</delete>
<insert id="addPoll">
insert into tbl_poll(bno,pno,endtime,title,item,vote_cnt) values ((select max(bno) from tbl_board), (select nvl(max(pno),0)+1 from tbl_poll where title=#{pollTitle}),#{endtime},#{pollTitle},#{item},0)
</insert>
</mapper>










